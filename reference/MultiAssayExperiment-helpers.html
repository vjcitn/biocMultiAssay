<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A group of helper functions for manipulating and cleaning a
MultiAssayExperiment — MultiAssayExperiment-helpers • MultiAssayExperiment</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="A group of helper functions for manipulating and cleaning a
MultiAssayExperiment — MultiAssayExperiment-helpers" />
<meta property="og:description" content="A set of helper functions were created to help clean and
manipulate a MultiAssayExperiment object. intersectRows also works
for ExperimentList objects.

complete.cases: Returns a logical vector corresponding to 'colData'
    rows that have data across all experiments
isEmpty: Returns a logical TRUE value for zero length
    MultiAssayExperiment objects
intersectRows: Takes all common rows across experiments,
    excludes experiments with empty rownames
intersectColumns: A wrapper for complete.cases to return a
    MultiAssayExperiment with only those biological units that have
    measurements across all experiments
replicated: A function that identifies multiple samples that
    originate from a single biological unit within each assay
anyReplicated: Displays which assays have replicate measurements
mergeReplicates: A function that combines replicated / repeated
    measurements across all experiments and is guided by the replicated
    return value
longFormat: A MultiAssayExperiment method that
    returns a small and skinny DataFrame. The colDataCols
    arguments allows the user to append colData columns to the data.
wideFormat: A function to return a wide DataFrame where
    each row represents an observation. Optional colDataCols can be
    added when using a MultiAssayExperiment.
hasRowRanges: A function that identifies ExperimentList elements
    that have a rowRanges method
getWithColData: A convenience function for extracting an assay
    and associated colData
renamePrimary: A convenience function to rename the primary
    biological units as represented in the rownames(colData)
renameColname: A convenience function to rename the colnames
    of a particular assay

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MultiAssayExperiment</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.20.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Quick Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/QuickStartMultiAssay.html">Quick Start Guide</a>
    </li>
    <li>
      <a href="../articles/MultiAssayExperiment.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/UsingHDF5Array.html">Using DelayedMatrix</a>
    </li>
    <li>
      <a href="../articles/extras/MAE-curatedMetagenomicData.html">MultiAssayExperiment in Practice</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../news/index.html">Release Notes</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/waldronlab/MultiAssayExperiment">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A group of helper functions for manipulating and cleaning a
MultiAssayExperiment</h1>
    <small class="dont-index">Source: <a href='https://github.com/waldronlab/MultiAssayExperiment/blob/master/R/MultiAssayExperiment-helpers.R'><code>R/MultiAssayExperiment-helpers.R</code></a></small>
    <div class="hidden name"><code>MultiAssayExperiment-helpers.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A set of helper functions were created to help clean and
manipulate a MultiAssayExperiment object. <code>intersectRows</code> also works
for <code>ExperimentList</code> objects.</p>
<ul>
<li><p>complete.cases: Returns a logical vector corresponding to 'colData'
    rows that have data across all experiments</p></li>
<li><p>isEmpty: Returns a logical <code>TRUE</code> value for zero length
    <code>MultiAssayExperiment</code> objects</p></li>
<li><p>intersectRows: Takes all common rows across experiments,
    excludes experiments with empty rownames</p></li>
<li><p>intersectColumns: A wrapper for <code>complete.cases</code> to return a
    <code>MultiAssayExperiment</code> with only those biological units that have
    measurements across all experiments</p></li>
<li><p>replicated: A function that identifies multiple samples that
    originate from a single biological unit within each assay</p></li>
<li><p>anyReplicated: Displays which assays have replicate measurements</p></li>
<li><p>mergeReplicates: A function that combines replicated / repeated
    measurements across all experiments and is guided by the replicated
    return value</p></li>
<li><p>longFormat: A <code>MultiAssayExperiment</code> method that
    returns a small and skinny <a href='https://rdrr.io/pkg/S4Vectors/man/DataFrame-class.html'>DataFrame</a>. The <code>colDataCols</code>
    arguments allows the user to append <code>colData</code> columns to the data.</p></li>
<li><p>wideFormat: A function to return a wide <a href='https://rdrr.io/pkg/S4Vectors/man/DataFrame-class.html'>DataFrame</a> where
    each row represents an observation. Optional <code>colDataCols</code> can be
    added when using a <code>MultiAssayExperiment</code>.</p></li>
<li><p>hasRowRanges: A function that identifies ExperimentList elements
    that have a rowRanges method</p></li>
<li><p>getWithColData: A convenience function for extracting an assay
    and associated colData</p></li>
<li><p>renamePrimary: A convenience function to rename the primary
    biological units as represented in the <code>rownames(colData)</code></p></li>
<li><p>renameColname: A convenience function to rename the colnames
    of a particular assay</p></li>
</ul>

    </div>

    <pre class="usage"><span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'><a href='https://rdrr.io/r/stats/complete.cases.html'>complete.cases</a></span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'>isEmpty</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>intersectRows</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>intersectColumns</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>replicated</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'>replicated</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>anyReplicated</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'>anyReplicated</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>mergeReplicates</span><span class='op'>(</span><span class='va'>x</span>, replicates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>, simplify <span class='op'>=</span> <span class='fu'>BiocGenerics</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/BiocGenerics/man/mean.html'>mean</a></span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'>mergeReplicates</span><span class='op'>(</span>
  <span class='va'>x</span>,
  replicates <span class='op'>=</span> <span class='fu'>replicated</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  simplify <span class='op'>=</span> <span class='fu'>BiocGenerics</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/BiocGenerics/man/mean.html'>mean</a></span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S4 method for ANY</span>
<span class='fu'>mergeReplicates</span><span class='op'>(</span><span class='va'>x</span>, replicates <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>, simplify <span class='op'>=</span> <span class='fu'>BiocGenerics</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/BiocGenerics/man/mean.html'>mean</a></span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>longFormat</span><span class='op'>(</span><span class='va'>object</span>, colDataCols <span class='op'>=</span> <span class='cn'>NULL</span>, i <span class='op'>=</span> <span class='fl'>1L</span><span class='op'>)</span>

<span class='fu'>wideFormat</span><span class='op'>(</span>
  <span class='va'>object</span>,
  colDataCols <span class='op'>=</span> <span class='cn'>NULL</span>,
  check.names <span class='op'>=</span> <span class='cn'>TRUE</span>,
  collapse <span class='op'>=</span> <span class='st'>"_"</span>,
  i <span class='op'>=</span> <span class='fl'>1L</span>
<span class='op'>)</span>

<span class='fu'>hasRowRanges</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'>hasRowRanges</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='co'># S4 method for ExperimentList</span>
<span class='fu'>hasRowRanges</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>getWithColData</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>i</span>, mode <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"append"</span>, <span class='st'>"replace"</span><span class='op'>)</span>, verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>renamePrimary</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>value</span><span class='op'>)</span>

<span class='fu'>renameColname</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>i</span>, <span class='va'>value</span><span class='op'>)</span>

<span class='fu'>splitAssays</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>hitList</span><span class='op'>)</span>

<span class='co'># S4 method for MultiAssayExperiment</span>
<span class='fu'>splitAssays</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>hitList</span><span class='op'>)</span>

<span class='fu'>makeHitList</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>patternList</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Additional arguments. See details for more information.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A MultiAssayExperiment or ExperimentList</p></td>
    </tr>
    <tr>
      <th>replicates</th>
      <td><p>A list of LogicalLists
indicating multiple / duplicate entries for each biological unit per assay,
see <code>replicated</code> (default <code>replicated(x)</code>).</p></td>
    </tr>
    <tr>
      <th>simplify</th>
      <td><p>A function for merging repeat measurements in experiments
as indicated by the <code>replicated</code> method for <code>MultiAssayExperiment</code></p></td>
    </tr>
    <tr>
      <th>object</th>
      <td><p>Any supported class object</p></td>
    </tr>
    <tr>
      <th>colDataCols</th>
      <td><p>A <code>character</code>, <code>logical</code>, or <code>numeric</code>
index for <code>colData</code> columns to be included</p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>longFormat: The i-th assay in
SummarizedExperiment-like objects. A vector input is
supported in the case that the SummarizedExperiment object(s) has more
than one assay (default 1L),
renameColname: Either a <code>numeric</code> or <code>character</code> index
indicating the assay whose colnames are to be renamed</p></td>
    </tr>
    <tr>
      <th>check.names</th>
      <td><p>(logical default TRUE) Column names of the output
<code>DataFrame</code> will be checked for syntactic validity and made unique,
if necessary</p></td>
    </tr>
    <tr>
      <th>collapse</th>
      <td><p>(character default "_") A single string delimiter for output
column names. In <code>wideFormat</code>, experiments and rownames (and when
replicate samples are present, colnames) are seperated by this delimiter</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>String indicating how <a href='MultiAssayExperiment-class.html'>MultiAssayExperiment</a>
column-level metadata should be added to the
SummarizedExperiment <code>colData</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical(1) Whether to `suppressMessages` on subsetting
operations in `getWithColData` (default FALSE)</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>renamePrimary: A <code>character</code> vector of the same length as
the existing <code>rownames(colData)</code> to use for replacement,
renameColname: A <code>CharacterList</code> or <code>list</code> with matching
<code>lengths</code> to replace <code>colnames(x)</code></p></td>
    </tr>
    <tr>
      <th>hitList</th>
      <td><p>a named <code>list</code> or <code>List</code> of logical vectors that
indicate groupings in the assays</p></td>
    </tr>
    <tr>
      <th>patternList</th>
      <td><p>a named <code>list</code> or <code>List</code> of atomic character
vectors that are the input to <code>grepl</code> for identifying groupings in
the assays</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>See the itemized list in the description section for details.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>replicated</code> function finds replicate measurements in each
assay and returns a list of LogicalLists.
Each element in a single LogicalList corresponds to a
biological or <em>primary</em> unit as in the <code>sampleMap</code>. Below is a
small graphic for one particular biological unit in one assay, where the
logical vector corresponds to the number of measurements/samples in the
assay:</p><pre>
 &gt;      replicated(MultiAssayExperiment)
 (list str)       '-- $ AssayName
 (LogicalList str)      '-- [[ "Biological Unit" ]]
 Replicated if sum(...) &gt; 1          '-- TRUE TRUE FALSE FALSE
</pre><p><code>anyReplicated</code> determines if any of the assays have at least one
replicate. <em>Note</em>. These methods are not available for the
<code>ExperimentList</code> class due to a missing <code>sampleMap</code> structure
(by design).</p>
<p>The <code>mergeReplicates</code> function is a house-keeping method
for a <code>MultiAssayExperiment</code> where only <code>complete.cases</code> are
returned. This by-assay operation averages replicate measurements
(by default) and columns are aligned by the row order in <code>colData</code>.
Users can provide their own function for merging replicates with the
<code>simplify</code> functional argument. Additional inputs <code>...</code> are
sent to the 'simplify' function.</p>
<p>The <code>mergeReplicates</code> "ANY" method consolidates duplicate
measurements for rectangular data structures, returns object of the same
class (endomorphic). The ellipsis or <code>...</code> argument allows the
user to provide additional arguments to the <code>simplify</code> functional
argument.</p>
<p>The <code>longFormat</code> "ANY" class method, works with classes such as
ExpressionSet and SummarizedExperiment as well as <code>matrix</code>
to provide a consistent long and skinny <a href='https://rdrr.io/pkg/S4Vectors/man/DataFrame-class.html'>DataFrame</a>.</p>
<p>The <code>hasRowRanges</code> method identifies assays that support
a rowRanges method <em>and</em>
return a GRanges object.</p>
    <h2 class="hasAnchor" id="mergereplicates"><a class="anchor" href="#mergereplicates"></a>mergeReplicates</h2>

    

<p>The <code>mergeReplicates</code> function makes use of the output from
<code>replicated</code> which will point out the duplicate measurements by
biological unit in the <code>MultiAssayExperiment</code>. This function will
return a <code>MultiAssayExperiment</code> with merged replicates. Additional
arguments can be provided to the simplify argument via the ellipsis
(...). For example, when replicates "TCGA-B" and "TCGA-A" are found in
the assay, the name of the first appearing replicate is taken (i.e., "B").
Note that a typical use case of merging replicates occurs when there are
multiple measurements on the <strong>same</strong> sample (within the same assay)
and can therefore be averaged.</p>
    <h2 class="hasAnchor" id="longformat"><a class="anchor" href="#longformat"></a>longFormat</h2>

    

<p>The 'longFormat' method takes data from the <code><a href='ExperimentList.html'>ExperimentList</a></code>
in a <code><a href='MultiAssayExperiment.html'>MultiAssayExperiment</a></code> and returns a uniform
<code><a href='https://rdrr.io/pkg/S4Vectors/man/DataFrame-class.html'>DataFrame</a></code>. The resulting DataFrame has columns indicating
primary, rowname, colname and value. This method can optionally include
columns of the MultiAssayExperiment colData named by <code>colDataCols</code> character
vector argument. (<code>MultiAssayExperiment</code> method only). The <code>i</code> argument
allows the user to specify the assay value for the
SummarizedExperiment assay function's <code>i</code> argument.</p>
    <h2 class="hasAnchor" id="wideformat"><a class="anchor" href="#wideformat"></a>wideFormat</h2>

    

<p>The <code>wideFormat</code> function returns standardized wide <a href='https://rdrr.io/pkg/S4Vectors/man/DataFrame-class.html'>DataFrame</a>
where each row represents a biological unit as in the <code>colData</code>.
Depending on the data and setup, biological units can be patients, tumors,
specimens, etc. Metadata columns are
generated based on the names produced in the wide format
DataFrame. These can be accessed via the
mcols function.
See the <code>wideFormat</code> section for description of the <code>colDataCols</code> and
<code>i</code> arguments.</p>
    <h2 class="hasAnchor" id="hasrowranges"><a class="anchor" href="#hasrowranges"></a>hasRowRanges</h2>

    

<p>The <code>hasRowRanges</code> method identifies assays with associated ranged
row data by directly testing the method on the object. The result from the
test must be a GRanges class object to satisfy the test.</p>
    <h2 class="hasAnchor" id="getwithcoldata"><a class="anchor" href="#getwithcoldata"></a>getWithColData</h2>

    

<p>The <code>getWithColData</code> function allows the user to conveniently extract
a particular assay as indicated by the <strong><code>i</code></strong> index argument. It
will also attempt to provide the
<code>colData</code> along with the
extracted object using the <code>colData&lt;-</code> replacement
method when possible. Typically, this method is available for
SummarizedExperiment and <code>RaggedExperiment</code>
classes.</p>
<p>The setting of <code>mode</code> determines how the <code>colData</code>
is added. If <code>mode="append"</code>, the <a href='MultiAssayExperiment-class.html'>MultiAssayExperiment</a>
metadata is appended onto that of the SummarizedExperiment.
If any fields are duplicated by name, the values in the
SummarizedExperiment are retained, with a warning emitted if
the values are different.  For <code>mode="replace"</code>, the
<a href='MultiAssayExperiment-class.html'>MultiAssayExperiment</a> metadata replaces that of the
SummarizedExperiment, while for <code>mode="none"</code>,
no replacement or appending is performed.</p>
    <h2 class="hasAnchor" id="rename-"><a class="anchor" href="#rename-"></a>rename*</h2>

    

<p>The <code>renamePrimary</code> function allows the user to conveniently change the
actual names of the primary biological units as seen in
<code>rownames(colData)</code>. <code>renameColname</code> allows the user to change the
names of a particular assay based on index <code>i</code>. <code>i</code> can either be
a single numeric or character value. See <code>colnames&lt;-</code> method for
renaming multiple colnames in a <code>MultiAssayExperiment</code>.</p>
    <h2 class="hasAnchor" id="splitassays"><a class="anchor" href="#splitassays"></a>splitAssays</h2>

    

<p>The <code>splitAssays</code> method separates columns in each of the assays based
on the <code>hitList</code> input. The <code>hitList</code> can be generated using
the <code>makeHitList</code> helper function. To use the <code>makeHitList</code>
helper, the user should input a list of patterns that will match on the
column names of each assay. These matches should be mutually exclusive as
to avoid repetition of columns across assays. See the examples section.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/utils/example.html'>example</a></span><span class='op'>(</span><span class='va'>MultiAssayExperiment</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; ## Run the example ExperimentList</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; example("ExperimentList")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Create an empty ExperimentList instance</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ExperimentList()</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExperimentList class object of length 0:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Create array matrix and AnnotatedDataFrame to create an ExpressionSet class</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; arraydat &lt;- matrix(data = seq(101, length.out = 20), ncol = 4,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     dimnames = list(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         c("ENST00000294241", "ENST00000355076",</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         "ENST00000383706","ENST00000234812", "ENST00000383323"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         c("array1", "array2", "array3", "array4")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     ))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; colDat &lt;- data.frame(slope53 = rnorm(4),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     row.names = c("array1", "array2", "array3", "array4"))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## SummarizedExperiment constructor</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; exprdat &lt;- SummarizedExperiment::SummarizedExperiment(arraydat,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     colData = colDat)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Create a sample methylation dataset</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; methyldat &lt;- matrix(data = seq(1, length.out = 25), ncol = 5,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     dimnames = list(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         c("ENST00000355076", "ENST00000383706",</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+           "ENST00000383323", "ENST00000234812", "ENST00000294241"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         c("methyl1", "methyl2", "methyl3",</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+           "methyl4", "methyl5")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     ))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Create a sample RNASeqGene dataset</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; rnadat &lt;- matrix(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     data = sample(c(46851, 5, 19, 13, 2197, 507,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         84318, 126, 17, 21, 23979, 614), size = 20, replace = TRUE),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     ncol = 4,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     dimnames = list(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         c("XIST", "RPS4Y1", "KDM5D", "ENST00000383323", "ENST00000234812"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+         c("samparray1", "samparray2", "samparray3", "samparray4")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     ))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Create a mock RangedSummarizedExperiment from a data.frame</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; rangedat &lt;- data.frame(chr="chr2", start = 11:15, end = 12:16,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     strand = c("+", "-", "+", "*", "."),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     samp0 = c(0,0,1,1,1), samp1 = c(1,0,1,0,1), samp2 = c(0,1,0,1,0),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+     row.names = c(paste0("ENST", "00000", 135411:135414), "ENST00000383323"))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; rangeSE &lt;- SummarizedExperiment::makeSummarizedExperimentFromDataFrame(rangedat)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Combine to a named list and call the ExperimentList constructor function</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; assayList &lt;- list(Affy = exprdat, Methyl450k = methyldat, RNASeqGene = rnadat,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL+                 GISTIC = rangeSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ## Use the ExperimentList constructor</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ExprmL&gt; ExpList &lt;- ExperimentList(assayList)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; ## Create sample maps for each experiment</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; exprmap &lt;- data.frame(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     primary = c("Jack", "Jill", "Barbara", "Bob"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     colname = c("array1", "array2", "array3", "array4"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     stringsAsFactors = FALSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; methylmap &lt;- data.frame(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     primary = c("Jack", "Jack", "Jill", "Barbara", "Bob"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     colname = c("methyl1", "methyl2", "methyl3", "methyl4", "methyl5"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     stringsAsFactors = FALSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; rnamap &lt;- data.frame(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     primary = c("Jack", "Jill", "Bob", "Barbara"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     colname = c("samparray1", "samparray2", "samparray3", "samparray4"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     stringsAsFactors = FALSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; gistmap &lt;- data.frame(</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     primary = c("Jack", "Bob", "Jill"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     colname = c("samp0", "samp1", "samp2"),</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     stringsAsFactors = FALSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; ## Combine as a named list and convert to a DataFrame</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; maplist &lt;- list(Affy = exprmap, Methyl450k = methylmap,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     RNASeqGene = rnamap, GISTIC = gistmap)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; ## Create a sampleMap</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; sampMap &lt;- listToMap(maplist)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; ## Create an example phenotype data</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; colDat &lt;- data.frame(sex = c("M", "F", "M", "F"), age = 38:41,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     row.names = c("Jack", "Jill", "Bob", "Barbara"))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; ## Create a MultiAssayExperiment instance</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE&gt; mae &lt;- MultiAssayExperiment(experiments = ExpList, colData = colDat,</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> MltAsE+     sampleMap = sampMap)</span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/stats/complete.cases.html'>complete.cases</a></span><span class='op'>(</span><span class='va'>mae</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1]  TRUE  TRUE  TRUE FALSE</span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>isEmpty</span><span class='op'>(</span><span class='fu'><a href='MultiAssayExperiment.html'>MultiAssayExperiment</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## renaming biological units (primary)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>mae2</span> <span class='op'>&lt;-</span> <span class='fu'>renamePrimary</span><span class='op'>(</span><span class='va'>mae</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"pt"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>colData</span><span class='op'>(</span><span class='va'>mae2</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> DataFrame with 4 rows and 2 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>             sex       age</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     &lt;character&gt; &lt;integer&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> pt1           M        38</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> pt2           F        39</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> pt3           M        40</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> pt4           F        41</span>
<span class='r-in'><span class='fu'><a href='MultiAssayExperiment-methods.html'>sampleMap</a></span><span class='op'>(</span><span class='va'>mae2</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> DataFrame with 16 rows and 3 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>          assay     primary     colname</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>       &lt;factor&gt; &lt;character&gt; &lt;character&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1   Affy               pt1      array1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2   Affy               pt2      array2</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3   Affy               pt4      array3</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4   Affy               pt3      array4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5   Methyl450k         pt1     methyl1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ...        ...         ...         ...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 12  RNASeqGene         pt3  samparray3</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 13  RNASeqGene         pt4  samparray4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 14  GISTIC             pt1       samp0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 15  GISTIC             pt3       samp1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 16  GISTIC             pt2       samp2</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## renaming observational units (colname)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>mae2</span> <span class='op'>&lt;-</span> <span class='fu'>renameColname</span><span class='op'>(</span><span class='va'>mae</span>, i <span class='op'>=</span> <span class='st'>"Affy"</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"ARRAY"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>mae2</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> CharacterList of length 4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [["Affy"]] ARRAY1 ARRAY2 ARRAY3 ARRAY4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [["Methyl450k"]] methyl1 methyl2 methyl3 methyl4 methyl5</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [["RNASeqGene"]] samparray1 samparray2 samparray3 samparray4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [["GISTIC"]] samp0 samp1 samp2</span>
<span class='r-in'><span class='fu'><a href='MultiAssayExperiment-methods.html'>sampleMap</a></span><span class='op'>(</span><span class='va'>mae2</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> DataFrame with 16 rows and 3 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>          assay     primary     colname</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>       &lt;factor&gt; &lt;character&gt; &lt;character&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1   Affy              Jack      ARRAY1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2   Affy              Jill      ARRAY2</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3   Affy           Barbara      ARRAY3</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4   Affy               Bob      ARRAY4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5   Methyl450k        Jack     methyl1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ...        ...         ...         ...</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 12  RNASeqGene         Bob  samparray3</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 13  RNASeqGene     Barbara  samparray4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 14  GISTIC            Jack       samp0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 15  GISTIC             Bob       samp1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 16  GISTIC            Jill       samp2</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>patts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span></span>
<span class='r-in'>    normals <span class='op'>=</span> <span class='st'>"TCGA-OR-[A-Z0-9]{4}-11"</span>,</span>
<span class='r-in'>    tumors <span class='op'>=</span> <span class='st'>"TCGA-OR-[A-Z0-9]{4}-01"</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>hits</span> <span class='op'>&lt;-</span> <span class='fu'>makeHitList</span><span class='op'>(</span><span class='va'>miniACC</span>, <span class='va'>patts</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>splitAssays</span><span class='op'>(</span><span class='va'>miniACC</span>, <span class='va'>hits</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> A MultiAssayExperiment object of 5 listed</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  experiments with user-defined names and respective classes.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  Containing an ExperimentList class object of length 5:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  [1] tumors_RNASeq2GeneNorm: SummarizedExperiment with 198 rows and 71 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  [2] tumors_gistict: SummarizedExperiment with 198 rows and 82 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  [3] tumors_RPPAArray: SummarizedExperiment with 33 rows and 40 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  [4] tumors_Mutations: matrix with 97 rows and 81 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  [5] tumors_miRNASeqGene: SummarizedExperiment with 471 rows and 72 columns</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> Functionality:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  experiments() - obtain the ExperimentList instance</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  colData() - the primary/phenotype DataFrame</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  sampleMap() - the sample coordination DataFrame</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  `$`, `[`, `[[` - extract colData columns, subset, or experiment</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  *Format() - convert into a long or wide DataFrame</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  assays() - convert ExperimentList to a SimpleList of matrices</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  exportClass() - save data to flat files</span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcel Ramos, Levi Waldron.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


